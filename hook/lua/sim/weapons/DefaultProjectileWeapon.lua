---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by maudlin27.
--- DateTime: 28/03/2024 08:45
---
--Looks like FAF moved the defaultwewapons.lua into sub-files at some point in 2023; below is copy of what i had in defaultweapons, added in v83, if run into issues then may need to test further
local M28Events = import('/mods/M28AI/lua/AI/M28Events.lua')

M28DefaultProjectileWeapon = DefaultProjectileWeapon

DefaultProjectileWeapon = Class(M28DefaultProjectileWeapon) {
    OnWeaponFired = function(self)
        M28DefaultProjectileWeapon.OnWeaponFired(self)
        M28Events.OnWeaponFired(self)
    end,
    CalculateBallisticAcceleration = function(self, projectile)
        ForkThread(M28Events.OnBombFired, self, projectile)
        return M28DefaultProjectileWeapon.CalculateBallisticAcceleration(self, projectile)
    end,
    CreateProjectileAtMuzzle = function(self, muzzle)
        ForkThread(M28Events.OnWeaponFired, self)
        return M28DefaultProjectileWeapon.CreateProjectileAtMuzzle(self, muzzle)

        --Use below code if want to refer to the projectile created when a weapon is fired (note that the projectile target will be the intended target, pre any firing randomness)
        --local oProj = M28DefaultProjectileWeapon.CreateProjectileAtMuzzle(self, muzzle)
        --ForkThread(M28Events.ProjectileFiredFromWeapon, oProj)
        --return oProj
    end,
}